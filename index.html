<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>WattLink — Community Energy Transparency</title>
  <link rel="stylesheet" href="style.css"/>
  <meta name="description" content="See your town's supplier, status, utility, energy mix, rates, savings, community chain, and collective impact."/>
</head>
<body>
  <header class="wl-header">
    <div class="wrap">
      <div class="brand">
        <div class="logo">⚡</div>
        <div class="name">WattLink</div>
      </div>
      <nav class="nav">
        <a href="#snapshot">Snapshot</a>
        <a href="#viz">Mix & Rates</a>
        <a href="#chain">Community</a>
      </nav>
    </div>
  </header>

  <main class="wrap">
    <section class="hero">
      <div class="hero-left">
        <h1>Transparent community energy — at a glance.</h1>
        <p class="sub">Enter your ZIP to view your <strong>supplier</strong>, <strong>status</strong> (aggregation member or not), <strong>utility</strong>, <strong>energy mix</strong>, <strong>rates & savings</strong>, <strong>community chain</strong>, and <strong>collective impact</strong>.</p>
        <form id="zipForm" class="zip-form">
          <label for="zip">ZIP code</label>
          <input id="zip" name="zip" inputmode="numeric" minlength="5" maxlength="5" placeholder="e.g., 43210" required/>
          <button type="submit" class="btn primary">Update</button>
          <button id="shareBtn" type="button" class="btn ghost">Share card</button>
        </form>
        <div class="hero-badges">
          <span class="badge">Supplier & Status</span>
          <span class="badge">Rates & Savings</span>
          <span class="badge">Collective Impact</span>
        </div>
      </div>
      <div class="hero-right">
        <div class="phone">
          <div class="phone-notch"></div>
          <div class="phone-screen">
            <div class="phone-card">
              <h3>Your ZIP</h3>
              <div id="mockZip">—</div>
              <div class="mini-stats">
                <div><span class="k">Supplier</span><span id="miniSupplier">—</span></div>
                <div><span class="k">Status</span><span id="miniStatus">—</span></div>
                <div><span class="k">Utility</span><span id="miniUtility">—</span></div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </section>

    <section id="snapshot" class="snapshot">
      <h2>Community Snapshot</h2>
      <div class="grid-cards" id="snapshotGrid">
        <div class="card stat">
          <div class="k">Supplier</div>
          <div class="v" id="supplier">—</div>
          <div class="hint">Retail supplier serving your community</div>
        </div>
        <div class="card stat">
          <div class="k">Status</div>
          <div class="v" id="status">—</div>
          <div class="hint">Aggregation member or not</div>
        </div>
        <div class="card stat">
          <div class="k">Utility Company</div>
          <div class="v" id="utility">—</div>
          <div class="hint">Wires company that delivers power</div>
        </div>
        <div class="card stat">
          <div class="k">Energy Mix</div>
          <div class="v"><span id="mixRenew">—</span> renewable / <span id="mixConv">—</span> conventional</div>
          <div class="hint">Renewable = solar·wind·hydro</div>
        </div>
        <div class="card stat">
          <div class="k">Average Community Rate</div>
          <div class="v"><span id="commRate">—</span>¢/kWh</div>
          <div class="hint">Compared to typical market rate</div>
        </div>
        <div class="card stat">
          <div class="k">Typical Market Rate</div>
          <div class="v"><span id="mktRate">—</span>¢/kWh</div>
          <div class="hint">Recent average in your area</div>
        </div>
        <div class="card stat good">
          <div class="k">Savings per Household</div>
          <div class="v">$<span id="savingsHH">—</span>/yr</div>
          <div class="hint">Based on est. annual usage</div>
        </div>
        <div class="card stat accent">
          <div class="k">Collective Impact</div>
          <div class="v">$<span id="collectiveSavings">—</span> saved · <span id="collectiveCO2">—</span> t CO₂ avoided</div>
          <div class="hint">Community-wide, estimated</div>
        </div>
      </div>
    </section>

    <section id="viz" class="viz">
      <div class="viz-left">
        <h2>Energy Mix & Rates</h2>
        <div class="statline">
          <div><strong>Clean Share (incl. nuclear):</strong> <span id="cleanShare">—</span></div>
          <div><strong>Renewable Only:</strong> <span id="renewOnly">—</span></div>
          <div><strong>CO₂ Avoided/HH:</strong> <span id="co2HH">— tons</span></div>
        </div>
        <div class="svg-wrap">
          <svg id="mixViz" width="420" height="280" role="img" aria-label="Energy mix bubble visualization"></svg>
        </div>
      </div>
      <div class="viz-right">
        <div class="card">
          <h3>Personalized Share Card</h3>
          <p>Create a PNG with supplier, status, rates, savings, and renewable share.</p>
          <button id="makeCard" class="btn primary full">Generate & Download</button>
          <canvas id="cardCanvas" width="1080" height="1350" class="hidden"></canvas>
          <a id="downloadLink" class="btn secondary full hidden" download>Download PNG</a>
        </div>
      </div>
    </section>

    <section id="chain" class="chain">
      <h2>Community Chain</h2>
      <p>Every share adds a link to the chain. Invite friends to connect their <em>watt</em>.</p>
      <div id="chainViz" class="chain-viz"></div>
    </section>
  </main>

  <footer class="wl-footer">
    <div class="wrap footer-wrap">
      <div>© <span id="year"></span> WattLink — Pilot concept for community energy transparency.</div>
      <div class="smallprint">Not an official utility. Demo data for prototyping only.</div>
    </div>
  </footer>

  <script src="app.js"></script>
</body>
</html>
