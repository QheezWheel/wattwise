<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>WattWise — Making Energy Aggregation Visible, Trustworthy, and Social</title>
  <link rel="stylesheet" href="style.css"/>
</head>
<body>
  <header class="wl-header">
    <div class="wrap">
      <div class="brand">
        <div class="logo">⚡</div>
        <div class="name">WattWise</div>
      </div>
      <nav class="nav">
        <a href="#how">How it works</a>
        <a href="#viz">Your mix</a>
        <a href="#chain">Community chain</a>
      </nav>
    </div>
  </header>

  <main class="wrap">
    <section class="hero">
      <div class="hero-left">
        <h1>
          Making Energy Aggregation
          <span class="accent blue">Visible</span>,
          <span class="accent blue">Trustworthy</span>, and
          <span class="accent blue">Social</span>.
        </h1>
        <p class="sub">
          Enter your ZIP to see your community’s supplier, status, utility, energy mix, rates vs. market, estimated savings per household, and your community’s collective impact.
        </p>
        <form id="zipForm" class="zip-form">
          <label for="zip">ZIP code</label>
          <input id="zip" name="zip" inputmode="numeric" minlength="5" maxlength="5" placeholder="e.g., 43210" required/>
          <button type="submit" class="btn primary">View my mix</button>
          <button id="shareBtn" type="button" class="btn ghost">Generate share card</button>
        </form>
        <div class="hero-badges">
          <span class="badge">No app required</span>
          <span class="badge">Transparent by design</span>
          <span class="badge">2-week WattLink pilot</span>
        </div>
      </div>

      <div class="hero-right">
        <div class="phone">
          <div class="phone-notch"></div>
          <div class="phone-screen">
            <div class="phone-card">
              <h3>Your ZIP</h3>
              <div id="mockZip" class="pc-zip">—</div>
              <ul class="phone-list">
                <li><strong>Supplier:</strong> <span id="p_supplier">—</span></li>
                <li><strong>Status:</strong> <span id="p_status">—</span></li>
                <li><strong>Utility:</strong> <span id="p_utility">—</span></li>
                <li><strong>Clean Share:</strong> <span id="p_cleanShare">—</span></li>
                <li><strong>Rate vs Market:</strong> <span id="p_commRate">—</span> / <span id="p_marketRate">—</span></li>
                <li><strong>Savings/HH:</strong> <span id="p_hhSavings">—</span></li>
              </ul>
              <div class="mix-legend" id="mixLegend"></div>
            </div>
          </div>
        </div>
      </div>
    </section>

    <section id="how" class="how">
      <h2>How it works</h2>
      <ol class="steps">
        <li>Scan a QR or enter ZIP</li>
        <li>See your town’s supplier, status, and energy mix</li>
        <li>Join the WattLink campaign and get your share card</li>
        <li>Share to grow the <strong>Community Chain</strong></li>
      </ol>
    </section>

    <section id="viz" class="viz">
      <div class="viz-left">
        <h2>Your Energy Mix</h2>
        <div class="statline">
          <div><strong>Clean Share:</strong> <span id="cleanShare">—</span></div>
          <div><strong>Est. Annual Savings:</strong> <span id="savings">$—</span></div>
          <div><strong>CO₂ Avoided:</strong> <span id="co2">— tons</span></div>
        </div>

        <div class="svg-wrap">
          <svg id="mixViz" width="420" height="280"></svg>
        </div>

        <div class="grid cards">
          <div class="card">
            <h3>Supplier</h3>
            <div id="supplierName" class="bigline">—</div>
          </div>
          <div class="card">
            <h3>Status</h3>
            <div id="statusTag" class="bigline">—</div>
          </div>
          <div class="card">
            <h3>Utility Company</h3>
            <div id="utilityName" class="bigline">—</div>
          </div>
          <div class="card">
            <h3>Energy Mix</h3>
            <div>Renewable <span id="mixRenewPct">—</span> • Conventional <span id="mixConvPct">—</span></div>
          </div>
          <div class="card">
            <h3>Rates</h3>
            <div>Community <span id="communityRate">—</span> • Market <span id="marketRate">—</span></div>
          </div>
          <div class="card">
            <h3>Savings per Household</h3>
            <div id="hhSavings" class="bigline">—</div>
          </div>
          <div class="card">
            <h3>Collective Impact</h3>
            <div class="impact-row"><strong>Participants:</strong> <span id="impactParticipants">—</span></div>
            <div class="impact-row"><strong>Total Savings:</strong> <span id="impactSavings">—</span></div>
            <div class="impact-row"><strong>CO₂ Avoided:</strong> <span id="impactCO2">—</span></div>
          </div>
        </div>
      </div>

      <div class="viz-right">
        <div class="card compact">
          <h3>Personalized Share Card</h3>
          <p class="muted small">Generate a PNG with all your community’s key metrics.</p>
          <button id="makeCard" class="btn primary full">Generate & Download</button>
          <canvas id="cardCanvas" width="1080" height="1080" class="hidden"></canvas>
          <a id="downloadLink" class="btn secondary full hidden" download>Download PNG</a>
        </div>
      </div>
    </section>

    <section id="chain" class="chain">
      <h2>Community Chain</h2>
      <p>Every share adds a link to the chain. Invite friends to connect their <em>watt</em>.</p>
      <div id="chainViz" class="chain-viz"></div>
    </section>
  </main>

  <footer class="wl-footer">
    <div class="wrap footer-wrap">
      <div>© <span id="year"></span> WattWise — WattLink campaign pilot</div>
    </div>
  </footer>

  <script src="app.js"></script>
</body>
</html>
